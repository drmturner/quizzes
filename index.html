<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mobile-Friendly Cybersecurity Quiz</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 1rem;
    max-width: 480px;
    margin-left: auto; margin-right: auto;
    background: #f7f9fc;
    color: #222;
  }
  h1 {
    text-align: center;
    margin-bottom: 1rem;
  }
  form {
    margin-top: 1.5rem;
  }
  legend {
    font-size: 1.2rem;
    font-weight: bold;
    margin-bottom: 1rem;
  }
  label {
    display: block;
    margin-bottom: 1.1rem;
    font-size: 1rem;
    cursor: pointer;
  }
  input[type="radio"] {
    margin-right: 0.7rem;
    transform: scale(1.3);
    vertical-align: middle;
  }
  button {
    width: 100%;
    padding: 1rem;
    font-size: 1.1rem;
    background-color: #0b4a82;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 1rem;
  }
  button:disabled {
    background-color: #999;
    cursor: not-allowed;
  }
  #result {
    display: none;
    margin-top: 2rem;
    padding: 1.5rem;
    border: 2px solid #0b4a82;
    border-radius: 8px;
    background-color: white;
    text-align: center;
  }
  #result h2 {
    color: #0b4a82;
    margin-bottom: 1rem;
  }
  #result a {
    text-decoration: none;
    background-color: #0b4a82;
    color: white;
    padding: 0.8rem 1.5rem;
    border-radius: 6px;
    font-weight: bold;
    display: inline-block;
    margin-top: 1rem;
  }
</style>
</head>
<body>

<h1>Small Business Cybersecurity Quick Assessment</h1>
<div id="quiz-container">
  <!-- Quiz form will be injected here -->
</div>

<div id="result"></div>

<script>
  const questions = [
    {
      text: '1. Do you currently have a formal cybersecurity policy or plan in place?',
      options: [
        { label: 'Yes, fully documented and regularly updated', value: 'A' },
        { label: 'Partially, some guidelines but no formal plan', value: 'B' },
        { label: 'No, we operate informally without documented policies', value: 'C' },
      ],
    },
    {
      text: '2. Have you identified the most critical digital assets and data that need protection?',
      options: [
        { label: 'Yes, we know exactly what to prioritize', value: 'A' },
        { label: 'Somewhat, but it’s not fully clear', value: 'B' },
        { label: 'No, we haven’t assessed our key assets', value: 'C' },
      ],
    },
    {
      text: '3. Do you provide cybersecurity training or awareness programs to your employees?',
      options: [
        { label: 'Yes, regularly and effectively', value: 'A' },
        { label: 'Occasionally, but it’s inconsistent', value: 'B' },
        { label: 'No, we don’t have any training in place', value: 'C' },
      ],
    },
    {
      text: '4. Are you confident your current IT setup adequately protects you against modern cyber threats?',
      options: [
        { label: 'Yes, we review and update regularly', value: 'A' },
        { label: 'Somewhat, but we’re unsure if it’s enough', value: 'B' },
        { label: 'No, we have no formal protections or reviews', value: 'C' },
      ],
    },
    {
      text: '5. Have you established a formal incident response plan in case of a breach or cyberattack?',
      options: [
        { label: 'Yes, we have a documented and tested plan', value: 'A' },
        { label: 'We have informal steps but no formal plan', value: 'B' },
        { label: 'No plan at all', value: 'C' },
      ],
    },
  ];

  const container = document.getElementById('quiz-container');
  const resultDiv = document.getElementById('result');
  let currentIndex = 0;
  let answers = [];

  function renderQuestion() {
    const q = questions[currentIndex];
    container.innerHTML = `
      <form id="quiz-form">
        <fieldset>
          <legend>${q.text}</legend>
          ${q.options
            .map(
              (opt) => `
            <label>
              <input type="radio" name="answer" value="${opt.value}" required />
              ${opt.label}
            </label>`
            )
            .join('')}
        </fieldset>
        <button type="submit" disabled>${
          currentIndex === questions.length - 1 ? 'See Results' : 'Next'
        }</button>
      </form>
    `;

    const form = document.getElementById('quiz-form');
    const button = form.querySelector('button');

    form.addEventListener('change', () => {
      button.disabled = false;
    });

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const selected = form.answer.value;
      answers.push(selected);
      currentIndex++;
      if (currentIndex < questions.length) {
        renderQuestion();
      } else {
        showResults();
      }
    });
  }

  function showResults() {
    const counts = { A: 0, B: 0, C: 0 };
    answers.forEach((ans) => {
      counts[ans] = (counts[ans] || 0) + 1;
    });

    let maxCount = 0;
    let maxCat = 'A';
    ['A', 'B', 'C'].forEach((cat) => {
      if (counts[cat] > maxCount) maxCount = counts[cat];
    });
    const topCats = Object.entries(counts)
      .filter(([_, v]) => v === maxCount)
      .map(([k]) => k);
    if (topCats.includes('C')) maxCat = 'C';
    else if (topCats.includes('B')) maxCat = 'B';

    let html = '';
    if (maxCat === 'A') {
      html = `
        <h2>Your business is on a strong path!</h2>
        <p>You’ve taken important steps toward cybersecurity readiness. With a bit of expert fine-tuning, your defenses will be even stronger. Explore our individual services to bolster your posture!</p>
        <a href="https://www.shadowsightsecurity.com/shop/a-la-carte-options/V4B7SBQ2RT2FTV64TYA7IB2F" target="_blank" rel="noopener">Explore Our A La Carte Security Options</a>
      `;
    } else if (maxCat === 'B') {
      html = `
        <h2>Your business has made some progress, but gaps remain.</h2>
        <p>Professional guidance can help close those gaps and build a more confident security posture for your business.</p>
        <a href="https://www.shadowsightsecurity.com/product/essentials/O5O7YTWZ3Z3IKODDT3ZTORUS" target="_blank" rel="noopener">Check Out Our Essentials vCISO Retainer</a>
      `;
    } else {
      html = `
        <h2>Your business is highly vulnerable to cyber threats.</h2>
        <p>Now is the time to act before a breach happens. Let us help you build a robust security strategy from the ground up.</p>
        <a href="https://www.shadowsightsecurity.com/vciso-retainer-packages" target="_blank" rel="noopener">Discover Our Comprehensive vCISO Retainer Packages</a>
      `;
    }
    container.style.display = 'none';
    resultDiv.style.display = 'block';
    resultDiv.innerHTML = html;
    resultDiv.scrollIntoView({ behavior: 'smooth' });
  }

  renderQuestion();
</script>

</body>
</html>
